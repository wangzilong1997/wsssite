(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{127:function(e,t,s){},128:function(e,t,s){},155:function(e,t){},157:function(e,t,s){},228:function(e,t,s){},229:function(e,t,s){},230:function(e,t,s){},231:function(e,t,s){},236:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),i=s(32),c=s.n(i),r=(s(126),s(127),s(128),s(239)),l=s(240),o=s(242),d=s(118),u=s(39),j=s.n(u),h=s(47),p=s.n(h),b=(s(157),s(29)),m=s(30),O=new(function(){function e(){Object(b.a)(this,e),this.anthenticated=!1}return Object(m.a)(e,[{key:"login",value:function(e){this.anthenticated=!0,e()}},{key:"logout",value:function(e){this.anthenticated=!1,e()}},{key:"isAnthenticated",value:function(){return this.anthenticated}}]),e}()),v=s(4),x=function(e){return Object(v.jsx)("div",{className:"login",children:Object(v.jsxs)(r.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t),j.a.post("/users/api/user/login",p.a.stringify({name:t.username,password:t.password})).then((function(t){console.log("ressss",t),t.data.success&&(console.log(e),O.login((function(){console.log("\u767b\u9646\u6210\u529f\u8fdb\u884c\u8df3\u8f6c"),e.history.push("/")})))}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(r.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(v.jsx)(l.a,{})}),Object(v.jsx)(r.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(v.jsx)(l.a.Password,{})}),Object(v.jsx)(r.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(v.jsx)(o.a,{children:"Remember me"})}),Object(v.jsx)(r.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(d.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})},f=s(37),g=s(36),k=(s(228),s.p+"static/media/logo.9f29a786.png"),y=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(m.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"international-header",children:Object(v.jsxs)("div",{className:"my-header",children:[Object(v.jsx)("div",{className:"my-ico",children:Object(v.jsx)("img",{src:k,alt:"logo"})}),Object(v.jsx)("div",{className:"my-nav",children:Object(v.jsx)("div",{children:"\u732a\u5996\u4e94\u6740"})}),Object(v.jsxs)("div",{className:"my-others",children:[Object(v.jsx)("div",{children:"\u56fd"}),Object(v.jsx)("div",{children:"\u670d"}),Object(v.jsx)("div",{children:"\u7b2c"}),Object(v.jsx)("div",{children:"\u4e00"}),Object(v.jsx)("div",{children:"\u524d"}),Object(v.jsx)("div",{children:"\u7aef"})]})]})})}}]),s}(a.a.Component),_=s(83),w=s.n(_),N=(s(229),function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(m.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"Left_panel",children:Object(v.jsx)("div",{children:"1"})})}}]),s}(a.a.Component));s(230),s(231);function C(e){var t=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var n=e.getDate();n=n<10?"0"+n:n;var a=e.getHours();a=a<10?"0"+a:a;var i=e.getMinutes();i=i<10?"0"+i:i;var c=e.getSeconds();return t+"-"+s+"-"+n+" "+a+":"+i+":"+(c=c<10?"0"+c:c)}var S=s.p+"static/media/kiss.5f0b0516.svg",F=s.p+"static/media/amazed.b9ee4ca0.svg",P=s.p+"static/media/scared.3d461b38.svg",I=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(b.a)(this,s),(n=t.call(this,e)).cardClick=function(){j.a.post("/api/relation/view",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({views:n.state.views+1})},n.likeClick=function(){j.a.post("/api/relation/like",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({likes:n.state.likes+1})},n.unlikeClick=function(){j.a.post("/api/relation/unlike",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({unlikes:n.state.unlikes+1})},n.state={time:"",views:"",likes:"",unlikes:""},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.setState({time:C(new Date(this.props.data.time))}),this.setState({views:+this.props.data.views||0,likes:+this.props.data.likes||0,unlikes:+this.props.data.unlikes||0})}},{key:"render",value:function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_container":this.state.likes>=this.state.unlikes?"card_container likes":"card_container unlikes",children:[Object(v.jsx)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_id":this.state.likes>=this.state.unlikes?"card_id likes":"card_id unlikes",children:this.props.data.pentaid}),Object(v.jsx)("div",{className:"card_views",children:this.state.views}),Object(v.jsx)("div",{className:"card_img",onClick:this.cardClick,children:Object(v.jsx)("a",{href:this.props.data.url,target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)("img",{src:this.props.data.imgurl,alt:"\u56fe\u7247\u8def\u5f84",width:"290px",height:"200px"})})}),Object(v.jsx)("div",{className:"card_title Singlelineellipsis",children:this.props.data.title}),Object(v.jsxs)("div",{className:"card_aurthorandtime ",children:[Object(v.jsx)("div",{className:"card_aurthorandtime_author Singlelineellipsis",children:this.props.data.author}),Object(v.jsx)("div",{className:"card_aurthorandtime_time Singlelineellipsis",children:this.state.time})]}),Object(v.jsxs)("div",{className:"card_bottom",children:[Object(v.jsxs)("button",{className:"card_bottom_item",onClick:this.likeClick,children:[Object(v.jsx)("img",{src:S,width:"20px",height:"20px",alt:"\u559c\u6b22"}),"    \u559c\u6b22",this.state.likes||0]}),Object(v.jsxs)("button",{className:"card_bottom_item",onClick:this.unlikeClick,children:[Object(v.jsx)("img",{src:P,width:"20px",height:"20px",alt:"\u4e0d\u559c\u6b22"})," \u4e0d\u559c\u6b22",this.state.unlikes||0]}),Object(v.jsxs)("button",{className:"card_bottom_item",onClick:this.cardClick,children:[Object(v.jsx)("img",{src:F,width:"20px",height:"20px",alt:"\u6d4f\u89c8\u91cf"})," \u6d4f\u89c8\u91cf",this.state.views||0]})]})]})})})}}]),s}(a.a.Component),L=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(b.a)(this,s),(n=t.call(this,e)).getdata=function(e){j.a.get("/api/huyapenta/".concat(e)).then((function(e){console.log("ressss",e),n.setState({list:e.data.result}),console.log(n.state)}))},n.scrollHandle=function(e){var t=e.srcElement.scrollingElement.scrollTop;console.log(t);var s=Math.floor(t/600);console.log(s),s>+n.state.updateLength&&(n.setState({updateLength:s}),console.log("\u6570\u636e\u662f\u5426\u4f1a\u66f4\u65b0"),n.getdata(s))},n.state={list:[],updateLength:null},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/huyapenta/1").then((function(t){console.log("ressss",t),e.setState({list:t.data.result}),console.log(e.state)})),window.addEventListener("scroll",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;console.log("f\u9632\u6296\u51fd\u6570\u6267\u884c");var s=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];s&&clearTimeout(s),s=setTimeout((function(){e.apply(void 0,a),s=null}),t)}}(this.scrollHandle,200))}},{key:"render",value:function(){var e;return e=this.state.list.map((function(e,t){return Object(v.jsx)(I,{data:e},e.pentaid)})),Object(v.jsx)("div",{className:"Center_panel",children:e})}}]),s}(a.a.Component),M=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(m.a)(s,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"fix_bg"}),Object(v.jsx)("div",{className:w.a.home_container,children:Object(v.jsxs)("div",{className:w.a.home_content,children:[Object(v.jsx)(N,{}),Object(v.jsx)(L,{})]})})]})}}]),s}(a.a.Component),D=function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsx)(M,{})]})},q=s(58),A=s(13),E=s(72),T=s(121),H=["component"],V=function(e){var t=e.component,s=Object(T.a)(e,H);return console.log("\u767b\u9646\u72b6\u6001\u9a8c\u8bc1",O.isAnthenticated()),Object(v.jsx)(A.b,Object(E.a)(Object(E.a)({},s),{},{render:function(e){return O.isAnthenticated()?Object(v.jsx)(t,Object(E.a)({},e)):Object(v.jsx)(A.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var z=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"app",children:Object(v.jsxs)(q.a,{children:[Object(v.jsx)(V,{exact:!0,path:"/",component:D}),Object(v.jsx)(A.b,{exact:!0,path:"/login",component:x})]})})})};c.a.render(Object(v.jsx)(z,{}),document.getElementById("root"))},83:function(e,t,s){e.exports={home_container:"_1z1oKPMbxIYqG1t--LyP9P",home_content:"_2vyVILDmkt9GWjuC45VqRQ"}}},[[236,1,2]]]);
//# sourceMappingURL=main.3773497f.chunk.js.map