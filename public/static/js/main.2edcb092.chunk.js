(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(t,e,s){t.exports={home_container:"_1z1oKPMbxIYqG1t--LyP9P",home_content:"_2vyVILDmkt9GWjuC45VqRQ"}},28:function(t,e,s){},29:function(t,e,s){},30:function(t,e,s){},32:function(t,e,s){},33:function(t,e,s){},34:function(t,e,s){},62:function(t,e){},64:function(t,e,s){"use strict";s.r(e);var i=s(2),a=s.n(i),n=s(23),c=s.n(n),r=(s(28),s(29),s(3)),l=s(4),o=s(6),d=s(5),h=(s(30),s.p+"static/media/logo.9f29a786.png"),j=s(0),u=function(t){Object(o.a)(s,t);var e=Object(d.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"international-header",children:Object(j.jsxs)("div",{className:"my-header",children:[Object(j.jsx)("div",{className:"my-ico",children:Object(j.jsx)("img",{src:h,alt:"logo"})}),Object(j.jsx)("div",{className:"my-nav",children:Object(j.jsx)("div",{children:"\u732a\u5996\u4e94\u6740"})}),Object(j.jsxs)("div",{className:"my-others",children:[Object(j.jsx)("div",{children:"\u56fd"}),Object(j.jsx)("div",{children:"\u670d"}),Object(j.jsx)("div",{children:"\u7b2c"}),Object(j.jsx)("div",{children:"\u4e00"}),Object(j.jsx)("div",{children:"\u524d"}),Object(j.jsx)("div",{children:"\u7aef"})]})]})})}}]),s}(a.a.Component),p=s(13),b=s.n(p),m=(s(32),function(t){Object(o.a)(s,t);var e=Object(d.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"Left_panel",children:Object(j.jsx)("div",{children:"1"})})}}]),s}(a.a.Component));s(33),s(34);function v(t){var e=t.getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var i=t.getDate();i=i<10?"0"+i:i;var a=t.getHours();a=a<10?"0"+a:a;var n=t.getMinutes();n=n<10?"0"+n:n;var c=t.getSeconds();return e+"-"+s+"-"+i+" "+a+":"+n+":"+(c=c<10?"0"+c:c)}var O=s(7),x=s.n(O),g=s(8),f=s.n(g),k=s.p+"static/media/kiss.5f0b0516.svg",_=s.p+"static/media/amazed.b9ee4ca0.svg",y=s.p+"static/media/scared.3d461b38.svg",N=function(t){Object(o.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(r.a)(this,s),(i=e.call(this,t)).cardClick=function(){x.a.post("/api/relation/view",f.a.stringify({pentaid:i.props.data.pentaid})).then((function(t){console.log("ressss",t)})),i.setState({views:i.state.views+1})},i.likeClick=function(){x.a.post("/api/relation/like",f.a.stringify({pentaid:i.props.data.pentaid})).then((function(t){console.log("ressss",t)})),i.setState({likes:i.state.likes+1})},i.unlikeClick=function(){x.a.post("/api/relation/unlike",f.a.stringify({pentaid:i.props.data.pentaid})).then((function(t){console.log("ressss",t)})),i.setState({unlikes:i.state.unlikes+1})},i.state={time:"",views:"",likes:"",unlikes:""},i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({time:v(new Date(this.props.data.time))}),this.setState({views:this.props.data.views||0,likes:this.props.data.likes||0,unlikes:this.props.data.unlikes||0})}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_container":this.state.likes>=this.state.unlikes?"card_container likes":"card_container unlikes",children:[Object(j.jsx)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_id":this.state.likes>=this.state.unlikes?"card_id likes":"card_id unlikes",children:this.props.data.pentaid}),Object(j.jsx)("div",{className:"card_views",children:this.state.views}),Object(j.jsx)("div",{className:"card_img",onClick:this.cardClick,children:Object(j.jsx)("a",{href:this.props.data.url,target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("img",{src:this.props.data.imgurl,alt:"\u56fe\u7247\u8def\u5f84",width:"290px",height:"200px"})})}),Object(j.jsx)("div",{className:"card_title Singlelineellipsis",children:this.props.data.title}),Object(j.jsxs)("div",{className:"card_aurthorandtime ",children:[Object(j.jsx)("div",{className:"card_aurthorandtime_author Singlelineellipsis",children:this.props.data.author}),Object(j.jsx)("div",{className:"card_aurthorandtime_time Singlelineellipsis",children:this.state.time})]}),Object(j.jsxs)("div",{className:"card_bottom",children:[Object(j.jsxs)("button",{className:"card_bottom_item",onClick:this.likeClick,children:[Object(j.jsx)("img",{src:k,width:"20px",height:"20px",alt:"\u559c\u6b22"}),"    \u559c\u6b22",this.state.likes||0]}),Object(j.jsxs)("button",{className:"card_bottom_item",onClick:this.unlikeClick,children:[Object(j.jsx)("img",{src:y,width:"20px",height:"20px",alt:"\u4e0d\u559c\u6b22"})," \u4e0d\u559c\u6b22",this.state.unlikes||0]}),Object(j.jsxs)("button",{className:"card_bottom_item",onClick:this.cardClick,children:[Object(j.jsx)("img",{src:_,width:"20px",height:"20px",alt:"\u6d4f\u89c8\u91cf"})," \u6d4f\u89c8\u91cf",this.state.views||0]})]})]})})})}}]),s}(a.a.Component),w=function(t){Object(o.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(r.a)(this,s),(i=e.call(this,t)).getdata=function(t){x.a.get("/api/huyapenta/".concat(t)).then((function(t){console.log("ressss",t),i.setState({list:t.data.result}),console.log(i.state)}))},i.scrollHandle=function(t){var e=t.srcElement.scrollingElement.scrollTop;console.log(e);var s=Math.floor(e/600);console.log(s),s>+i.state.updateLength&&(i.setState({updateLength:s}),console.log("\u6570\u636e\u662f\u5426\u4f1a\u66f4\u65b0"),i.getdata(s))},i.state={list:[],updateLength:null},i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var t=this;x.a.get("/api/huyapenta/1").then((function(e){console.log("ressss",e),t.setState({list:e.data.result}),console.log(t.state)})),window.addEventListener("scroll",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;console.log("f\u9632\u6296\u51fd\u6570\u6267\u884c");var s=null;return function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];s&&clearTimeout(s),s=setTimeout((function(){t.apply(void 0,a),s=null}),e)}}(this.scrollHandle,200))}},{key:"render",value:function(){var t;return t=this.state.list.map((function(t,e){return Object(j.jsx)(N,{data:t},t.pentaid)})),Object(j.jsx)("div",{className:"Center_panel",children:t})}}]),s}(a.a.Component),C=function(t){Object(o.a)(s,t);var e=Object(d.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"fix_bg"}),Object(j.jsx)("div",{className:b.a.home_container,children:Object(j.jsxs)("div",{className:b.a.home_content,children:[Object(j.jsx)(m,{}),Object(j.jsx)(w,{})]})})]})}}]),s}(a.a.Component);var S=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(u,{}),Object(j.jsx)(C,{})]})})};c.a.render(Object(j.jsx)(S,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.2edcb092.chunk.js.map