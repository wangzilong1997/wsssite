(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{141:function(e,t,n){},142:function(e,t,n){},169:function(e,t){},171:function(e,t,n){},246:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var i,a,c,s,r,o,l,d,u,j,b=n(0),m=n.n(b),h=n(30),p=n.n(h),f=(n(140),n(141),n(142),n(258)),O=n(259),g=n(129),x=n(39),v=n.n(x),k=n(53),w=n.n(k),y=(n(171),n(61)),N=n(62),S=new(function(){function e(){Object(y.a)(this,e),this.anthenticated=!1}return Object(N.a)(e,[{key:"login",value:function(e){this.anthenticated=!0,e()}},{key:"logout",value:function(e){this.anthenticated=!1,e()}},{key:"isAnthenticated",value:function(){return(this.anthenticated||window.localStorage.getItem("userid"))&&!0}}]),e}()),I=n(44),C=n(4),F=function(e){return Object(C.jsxs)("div",{className:"login",children:[Object(C.jsxs)(f.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t,e),"/register"===e.location.pathname?v.a.post("/users/api/user/register",w.a.stringify({name:t.username,password:t.password})).then((function(t){console.log("ressss",t),t.data.success&&(console.log(e),S.login((function(){console.log("\u767b\u9646\u6210\u529f\u8fdb\u884c\u8df3\u8f6c"),e.history.push("/login")})))})):v.a.post("/users/api/user/login",w.a.stringify({name:t.username,password:t.password})).then((function(t){console.log("ressss",t),t.data.success&&(console.log(e),S.login((function(){console.log("\u767b\u9646\u6210\u529f\u8fdb\u884c\u8df3\u8f6c"),window.localStorage.setItem("userid",t.data.result.userid),window.localStorage.setItem("username",t.data.result.username),e.history.push("/pentakill")})))}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(C.jsx)(f.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(C.jsx)(O.a,{})}),Object(C.jsx)(f.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(C.jsx)(O.a.Password,{})}),Object(C.jsx)(f.a.Item,{wrapperCol:{offset:8,span:16},children:Object(C.jsx)(g.a,{type:"primary",htmlType:"submit",children:"Submit"})}),Object(C.jsx)(f.a.Item,{wrapperCol:{offset:8,span:16},children:Object(C.jsx)(I.b,{to:"/register",style:{color:"black"},children:Object(C.jsx)(g.a,{type:"primary",onClick:function(){},children:"Register"})})})]}),Object(C.jsx)("div",{className:"hbicp",children:Object(C.jsx)("a",{href:"https://beian.miit.gov.cn/",children:"\u5180ICP\u59072021018062\u53f7-1"})})]})},_=n(13),P=n(37),q=n(260),M=n(262),z=n(134),A=n(130),B=(n(246),n.p+"static/media/logo.9f29a786.png"),D=function(e){Object(z.a)(n,e);var t=Object(A.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"international-header",children:Object(C.jsxs)("div",{className:"my-header",children:[Object(C.jsx)("div",{className:"my-ico",children:Object(C.jsx)("img",{src:B,alt:"logo"})}),Object(C.jsx)("div",{className:"my-nav",children:Object(C.jsx)("div",{children:"\u732a\u5996\u4e94\u6740"})}),Object(C.jsxs)("div",{className:"my-others",children:[Object(C.jsx)("div",{children:"\u56fd"}),Object(C.jsx)("div",{children:"\u670d"}),Object(C.jsx)("div",{children:"\u7b2c"}),Object(C.jsx)("div",{children:"\u4e00"}),Object(C.jsx)("div",{children:"\u524d"}),Object(C.jsx)("div",{children:"\u7aef"})]})]})})}}]),n}(m.a.Component),E=n(76),U=n.n(E),J=n(77),K=n.n(J),R=function(e){var t=e.dataList,n=e.curIndex,i=e.callBack,a=Object(b.useState)(n),c=Object(P.a)(a,2),s=c[0],r=c[1];return Object(C.jsx)("div",{className:K.a.elevator,children:t.map((function(e,t){return Object(C.jsx)("div",{className:t===s?K.a.elevator_items_select:K.a.elevator_items,onClick:function(){return function(e,t){r(t),i(e.name)}(e,t)},children:e.value})}))})},T=n(33),V=n(34),G=V.a.div(i||(i=Object(T.a)(["\n    width: 21rem;\n    height: 22rem;\n    z-index:1;\n"]))),L=V.a.div(a||(a=Object(T.a)(["\n    display: none;\n    margin-left: .7rem;\n    border: none;\n    background-color: transparent;\n"]))),Q=V.a.div(c||(c=Object(T.a)(["\n    width: 19rem;\n    height: 18.5rem;\n    margin: 0.1rem auto;\n    border: 0.1rem solid #cecece;\n    border-radius: 0.5rem;\n    background:  ",";\n    position: relative;\n    margin-bottom: 1.5rem;\n    overflow: hidden;\n    transition: all .5s ease-in-out;\n    :hover{\n      width: 20rem;\n      height: 20rem;\n    }\n    :hover ","{\n      display: block ;\n    }\n"])),(function(e){return e.primary?"like"===e.primary?"linear-gradient(91deg,#f1eefc,#9dc6ff 70%,#a5bcff)":"linear-gradient(to bottom, #000000 0%,#ffffff 100%);":"bisque"}),L),W=V.a.div(s||(s=Object(T.a)(["\n    position: absolute;\n    background: ",";\n    width: 50px;\n    top: 19px;\n    left: -6px;\n    transform: rotate(-45deg);\n    text-align: center;\n    border-radius: 4px;\n"])),(function(e){return e.primary?"like"===e.primary?"linear-gradient(91deg,#f1eefc,#9dc6ff 70%,#a5bcff)":"linear-gradient(to bottom, #000000 0%,#ffffff 100%);":"bisque"})),Y=V.a.div(r||(r=Object(T.a)(["\n    position: absolute;\n    margin-left: calc(100% - 20px);\n    margin-top: calc(100% - 110px);\n    color: #cecece;\n    opacity: .7;\n"]))),H=V.a.div(o||(o=Object(T.a)(["\n    margin: 1rem 0;\n    text-align: center;\n"]))),X=V.a.div(l||(l=Object(T.a)(["\n    margin: 1rem 0;\n    text-align: center;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n"]))),Z=V.a.div(d||(d=Object(T.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 0.9rem 0.8rem;\n    margin-bottom: 0.1rem;\n"]))),$=V.a.div(u||(u=Object(T.a)(["\n    min-width: 136px; \n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n"]))),ee=V.a.div(j||(j=Object(T.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n"]))),te=n.p+"static/media/kiss.5f0b0516.svg",ne=n.p+"static/media/amazed.b9ee4ca0.svg",ie=n.p+"static/media/scared.3d461b38.svg",ae=n.p+"static/media/happiness.f1edab3c.svg",ce=n.p+"static/media/thief.4a87fedf.svg";function se(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var a=e.getHours();a=a<10?"0"+a:a;var c=e.getMinutes();c=c<10?"0"+c:c;var s=e.getSeconds();return t+"-"+n+"-"+i+" "+a+":"+c+":"+(s=s<10?"0"+s:s)}var re=function(e){var t=e.data,n=e.key,i=Object(b.useState)(t),a=Object(P.a)(i,2),c=a[0],s=a[1],r=Object(b.useState)(null),o=Object(P.a)(r,2),l=o[0],d=o[1];Object(b.useEffect)((function(){(c.likes||c.unlikes)&&(c.likes>=c.unlikes?d("like"):d("unlike"))}),[]);var u=function(e){var t,n,i,a;console.log("like",e),console.log(c["i"+e]);var r=c["i"+e]?0:1;switch(i=~c.url.indexOf("huya")?"hy":"dy",e){case"like":a="likes",t="/penta/common/like",n={pentaid:c.pentaid,type:i,userid:window.localStorage.getItem("userid"),likes:"likes",likesval:r};break;case"unlike":a="unlikes",t="/penta/common/like",n={pentaid:c.pentaid,type:i,userid:window.localStorage.getItem("userid"),likes:"unlikes",likesval:r};break;case"click":t="/penta/common/view",a="views",n={pentaid:c.pentaid,views:1,type:i,userid:window.localStorage.getItem("userid")}}e&&v.a.post(t,w.a.stringify(n)).then((function(t){var n;if(console.log("ressss",t,r),null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.success){var i=JSON.parse(JSON.stringify(c)),o=i[a]?parseInt(i[a]):0;1==r?o+=1:o-=1,i["i"+e]=r,i[a]=o,(i.likes||i.unlikes)&&(i.likes>=i.unlikes?d("like"):d("unlike")),s(i)}}))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(G,{children:Object(C.jsxs)(Q,{primary:l,children:[Object(C.jsx)(W,{primary:l,children:c.pentaid}),Object(C.jsx)(Y,{children:c.views||0}),Object(C.jsx)(H,{children:Object(C.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:c.imgurl,alt:"\u56fe\u7247\u8def\u5f84",width:"290px",height:"200px"})})}),Object(C.jsx)(X,{children:c.title}),Object(C.jsxs)(Z,{children:[Object(C.jsx)($,{children:c.author}),Object(C.jsx)($,{children:se(new Date(c.time))})]}),Object(C.jsxs)(ee,{children:[Object(C.jsxs)(L,{onClick:function(){return u("like")},children:[Object(C.jsx)("img",{src:c.ilike?te:ae,width:"20px",height:"20px",alt:"\u559c\u6b22"})," \u559c\u6b22",c.likes||0]}),Object(C.jsxs)(L,{onClick:function(){return u("unlike")},children:[Object(C.jsx)("img",{src:c.iunlike?ce:ie,width:"20px",height:"20px",alt:"\u4e0d\u559c\u6b22"})," \u4e0d\u559c\u6b22",c.unlikes||0]}),Object(C.jsxs)(L,{onClick:function(){return u("click")},children:[Object(C.jsx)("img",{src:ne,width:"20px",height:"20px",alt:"\u6d4f\u89c8\u91cf"})," \u6d4f\u89c8\u91cf",c.views||0]})]})]})},n)})},oe=[{id:0,name:"hy",value:"\u864e\u7259\u4e94\u6740"},{id:1,name:"dy",value:"\u6597\u9c7c\u4e94\u6740"}],le=function(e){var t=Object(b.useState)([]),n=Object(P.a)(t,2),i=n[0],a=n[1],c=Object(b.useState)("hy"),s=Object(P.a)(c,2),r=s[0],o=s[1],l=Object(b.useState)(0),d=Object(P.a)(l,2),u=d[0],j=d[1];return Object(q.a)(document,(function(e){var t=e.top,n=(e.left,Math.ceil(t/600));return n>u&&(j(n),!0)})),Object(b.useEffect)((function(){j(1)}),[r]),Object(b.useEffect)((function(){v.a.get("/penta/common/".concat(u,"/").concat(r,"/")+window.localStorage.getItem("userid")).then((function(e){console.log("ressss",e),a(e.data.result)}))}),[Object(M.a)(u,{wait:400}),r]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(D,{}),Object(C.jsx)("div",{className:"fix_bg"}),Object(C.jsxs)("div",{className:U.a.content,children:[Object(C.jsx)("div",{className:U.a.left,children:Object(C.jsx)(R,{dataList:oe,curIndex:0,callBack:o})}),Object(C.jsx)("div",{className:U.a.right,children:i.map((function(e){return e.url="dy"===r?"https://v.douyu.com/show/"+e.url:""+e.url,Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(re,{data:e},e.pentaid)})}))})]})]})},de=n(78),ue=n(133),je=["component"],be=function(e){var t=e.component,n=Object(ue.a)(e,je);return console.log("\u767b\u9646\u72b6\u6001\u9a8c\u8bc1",S.isAnthenticated()),Object(C.jsx)(_.b,Object(de.a)(Object(de.a)({},n),{},{render:function(e){return S.isAnthenticated()?Object(C.jsx)(t,Object(de.a)({},e)):Object(C.jsx)(_.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var me=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"app",children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(be,{exact:!0,path:"/pentakill",component:le}),Object(C.jsx)(be,{exact:!0,path:"/",component:F}),Object(C.jsx)(_.b,{exact:!0,path:"/login",component:F}),Object(C.jsx)(_.b,{exact:!0,path:"/register",component:F})]})})})};p.a.render(Object(C.jsx)(me,{}),document.getElementById("root"))},76:function(e,t,n){e.exports={content:"dYvFKT-DROXj7EbUvPD0l",left:"_1wWr8wyDVoWNzaONkKGeiT",right:"_3c3_1pfFhRM4ulb4ekKUhh"}},77:function(e,t,n){e.exports={elevator:"A0VPGPVUCQNsaFOFQy-nf",elevator_items:"_1uUO2GjvK_dnlquAMBqzB",elevator_items_select:"RMt3Tzvkisy58OLciQWY8"}}},[[255,1,2]]]);
//# sourceMappingURL=main.91234213.chunk.js.map