(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{131:function(e,t,s){},132:function(e,t,s){},159:function(e,t){},161:function(e,t,s){},236:function(e,t,s){},237:function(e,t,s){},238:function(e,t,s){},239:function(e,t,s){},240:function(e,t,s){},241:function(e,t,s){},242:function(e,t,s){},243:function(e,t,s){"use strict";s.r(t);var n=s(0),i=s.n(n),a=s(35),c=s.n(a),o=(s(130),s(131),s(132),s(246)),l=s(247),r=s(122),d=s(26),u=s.n(d),h=s(38),p=s.n(h),j=(s(161),s(15)),m=s(16),b=new(function(){function e(){Object(j.a)(this,e),this.anthenticated=!1}return Object(m.a)(e,[{key:"login",value:function(e){this.anthenticated=!0,e()}},{key:"logout",value:function(e){this.anthenticated=!1,e()}},{key:"isAnthenticated",value:function(){return this.anthenticated}}]),e}()),v=s(46),O=s(1),f=function(e){return Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)(o.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t,e),"/login"===e.location.pathname?u.a.post("/users/api/user/login",p.a.stringify({name:t.username,password:t.password})).then((function(t){console.log("ressss",t),t.data.success&&(console.log(e),b.login((function(){console.log("\u767b\u9646\u6210\u529f\u8fdb\u884c\u8df3\u8f6c"),e.history.push("/")})))})):u.a.post("/users/api/user/register",p.a.stringify({name:t.username,password:t.password})).then((function(t){console.log("ressss",t),t.data.success&&(console.log(e),b.login((function(){console.log("\u767b\u9646\u6210\u529f\u8fdb\u884c\u8df3\u8f6c"),e.history.push("/login")})))}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(O.jsx)(o.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(O.jsx)(l.a,{})}),Object(O.jsx)(o.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(O.jsx)(l.a.Password,{})}),Object(O.jsx)(o.a.Item,{wrapperCol:{offset:8,span:16},children:Object(O.jsx)(r.a,{type:"primary",htmlType:"submit",children:"Submit"})}),Object(O.jsx)(o.a.Item,{wrapperCol:{offset:8,span:16},children:Object(O.jsx)(v.b,{to:"/register",style:{color:"black"},children:Object(O.jsx)(r.a,{type:"primary",onClick:function(){},children:"Register"})})})]})})},g=s(22),x=s(21),k=(s(236),s.p+"static/media/logo.9f29a786.png"),_=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(){return Object(j.a)(this,s),t.apply(this,arguments)}return Object(m.a)(s,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"international-header",children:Object(O.jsxs)("div",{className:"my-header",children:[Object(O.jsx)("div",{className:"my-ico",children:Object(O.jsx)("img",{src:k,alt:"logo"})}),Object(O.jsx)("div",{className:"my-nav",children:Object(O.jsx)("div",{children:"\u732a\u5996\u4e94\u6740"})}),Object(O.jsxs)("div",{className:"my-others",children:[Object(O.jsx)("div",{children:"\u56fd"}),Object(O.jsx)("div",{children:"\u670d"}),Object(O.jsx)("div",{children:"\u7b2c"}),Object(O.jsx)("div",{children:"\u4e00"}),Object(O.jsx)("div",{children:"\u524d"}),Object(O.jsx)("div",{children:"\u7aef"})]})]})})}}]),s}(i.a.Component),y=s(87),N=s.n(y),w=(s(237),s(70)),C=s(73),S=s.n(C),M=function(e){var t=e.props;console.log("Elevator",t);var s=Object(n.useState)((function(){return"/"===t.location.pathname||"/hylist"===t.location.pathname?0:"/dylist"===t.location.pathname?1:void 0})),i=Object(w.a)(s,2),a=i[0],c=i[1];Object(n.useEffect)((function(){console.log("Elevator",t)}));return Object(O.jsx)("div",{className:S.a.elevator,children:[{id:"hy",value:"\u864e\u7259\u4e94\u6740"},{id:"dy",value:"\u6597\u9c7c\u4e94\u6740"}].map((function(e,s){return Object(O.jsx)("div",{className:s===a?S.a.elevator_items_select:S.a.elevator_items,onClick:function(){return function(e,s){console.log(t),console.log("index",s),c(s),t.history.push("/"+e.id+"list")}(e,s)},children:e.value})}))})},L=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),n=t.call(this,e),console.log("left_penel",e),n.props=e,n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){console.log("left_paned.props",this.props)}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"Left_panel",children:Object(O.jsx)(M,{props:this.props.props.props})})}}]),s}(i.a.Component);s(238),s(239);function E(e){var t=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var n=e.getDate();n=n<10?"0"+n:n;var i=e.getHours();i=i<10?"0"+i:i;var a=e.getMinutes();a=a<10?"0"+a:a;var c=e.getSeconds();return t+"-"+s+"-"+n+" "+i+":"+a+":"+(c=c<10?"0"+c:c)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;console.log("f\u9632\u6296\u51fd\u6570\u6267\u884c");var s=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];s&&clearTimeout(s),s=setTimeout((function(){e.apply(void 0,i),s=null}),t)}}var D=s.p+"static/media/kiss.5f0b0516.svg",I=s.p+"static/media/amazed.b9ee4ca0.svg",P=s.p+"static/media/scared.3d461b38.svg",A=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).cardClick=function(){u.a.post("/api/relation/view",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({views:n.state.views+1})},n.likeClick=function(){u.a.post("/api/relation/like",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({likes:n.state.likes+1})},n.unlikeClick=function(){u.a.post("/api/relation/unlike",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({unlikes:n.state.unlikes+1})},n.state={time:"",views:"",likes:"",unlikes:""},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.setState({time:E(new Date(this.props.data.time))}),this.setState({views:+this.props.data.views||0,likes:+this.props.data.likes||0,unlikes:+this.props.data.unlikes||0})}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"card",children:Object(O.jsxs)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_container":this.state.likes>=this.state.unlikes?"card_container likes":"card_container unlikes",children:[Object(O.jsx)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_id":this.state.likes>=this.state.unlikes?"card_id likes":"card_id unlikes",children:this.props.data.pentaid}),Object(O.jsx)("div",{className:"card_views",children:this.state.views}),Object(O.jsx)("div",{className:"card_img",onClick:this.cardClick,children:Object(O.jsx)("a",{href:this.props.data.url,target:"_blank",rel:"noopener noreferrer",children:Object(O.jsx)("img",{src:this.props.data.imgurl,alt:"\u56fe\u7247\u8def\u5f84",width:"290px",height:"200px"})})}),Object(O.jsx)("div",{className:"card_title Singlelineellipsis",children:this.props.data.title}),Object(O.jsxs)("div",{className:"card_aurthorandtime ",children:[Object(O.jsx)("div",{className:"card_aurthorandtime_author Singlelineellipsis",children:this.props.data.author}),Object(O.jsx)("div",{className:"card_aurthorandtime_time Singlelineellipsis",children:this.state.time})]}),Object(O.jsxs)("div",{className:"card_bottom",children:[Object(O.jsxs)("button",{className:"card_bottom_item",onClick:this.likeClick,children:[Object(O.jsx)("img",{src:D,width:"20px",height:"20px",alt:"\u559c\u6b22"}),"    \u559c\u6b22",this.state.likes||0]}),Object(O.jsxs)("button",{className:"card_bottom_item",onClick:this.unlikeClick,children:[Object(O.jsx)("img",{src:P,width:"20px",height:"20px",alt:"\u4e0d\u559c\u6b22"})," \u4e0d\u559c\u6b22",this.state.unlikes||0]}),Object(O.jsxs)("button",{className:"card_bottom_item",onClick:this.cardClick,children:[Object(O.jsx)("img",{src:I,width:"20px",height:"20px",alt:"\u6d4f\u89c8\u91cf"})," \u6d4f\u89c8\u91cf",this.state.views||0]})]})]})})})}}]),s}(i.a.Component),H=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).getdata=function(e){u.a.get("/api/huyapenta/".concat(e)).then((function(e){console.log("ressss",e),n.setState({list:e.data.result}),console.log(n.state)}))},n.scrollHandle=function(e){var t=e.srcElement.scrollingElement.scrollTop;console.log(t);var s=Math.floor(t/600);console.log(s),s>+n.state.updateLength&&(n.setState({updateLength:s}),console.log("\u6570\u636e\u662f\u5426\u4f1a\u66f4\u65b0"),n.getdata(s))},n.state={list:[],updateLength:null},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/huyapenta/1").then((function(t){console.log("ressss",t),e.setState({list:t.data.result}),console.log(e.state)})),window.addEventListener("scroll",F(this.scrollHandle,200))}},{key:"render",value:function(){var e;return e=this.state.list.map((function(e,t){return Object(O.jsx)(A,{data:e},e.pentaid)})),Object(O.jsx)("div",{className:"Center_panel",children:e})}}]),s}(i.a.Component),R=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).props=e,n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){console.log("homepage.props",this.props)}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"fix_bg"}),Object(O.jsx)("div",{className:N.a.home_container,children:Object(O.jsxs)("div",{className:N.a.home_content,children:[Object(O.jsx)(L,{props:this.props}),Object(O.jsx)(H,{})]})})]})}}]),s}(i.a.Component),V=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_,{}),Object(O.jsx)(R,{props:e})]})},G=s(13),q=s(88),Q=s.n(q),T=(s(240),s(74)),W=s.n(T),Z=function(e){var t=e.props;console.log("Elevator",t);var s=Object(n.useState)((function(){return"/"===t.location.pathname||"/hylist"===t.location.pathname?0:"/dylist"===t.location.pathname?1:void 0})),i=Object(w.a)(s,2),a=i[0],c=i[1];Object(n.useEffect)((function(){console.log("Elevator",t)}));return Object(O.jsx)("div",{className:W.a.elevator,children:[{id:"hy",value:"\u864e\u7259\u4e94\u6740"},{id:"dy",value:"\u6597\u9c7c\u4e94\u6740"}].map((function(e,s){return Object(O.jsx)("div",{className:s===a?W.a.elevator_items_select:W.a.elevator_items,onClick:function(){return function(e,s){console.log(t),console.log("index",s),c(s),t.history.push("/"+e.id+"list")}(e,s)},children:e.value})}))})},B=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),n=t.call(this,e),console.log("left_penel",e),n.props=e,n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){console.log("left_paned.props",this.props)}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"Left_panel",children:Object(O.jsx)(Z,{props:this.props.props.props})})}}]),s}(i.a.Component),J=(s(241),s(242),function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).cardClick=function(){u.a.post("/api/dyrelation/view",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({views:n.state.views+1})},n.likeClick=function(){u.a.post("/api/dyrelation/like",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({likes:n.state.likes+1})},n.unlikeClick=function(){u.a.post("/api/dyrelation/unlike",p.a.stringify({pentaid:n.props.data.pentaid})).then((function(e){console.log("ressss",e)})),n.setState({unlikes:n.state.unlikes+1})},n.state={time:"",views:"",likes:"",unlikes:""},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.setState({time:E(new Date(this.props.data.time))}),this.setState({views:+this.props.data.views||0,likes:+this.props.data.likes||0,unlikes:+this.props.data.unlikes||0})}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"card",children:Object(O.jsxs)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_container":this.state.likes>=this.state.unlikes?"card_container likes":"card_container unlikes",children:[Object(O.jsx)("div",{className:0===this.state.likes&&0===this.state.unlikes?"card_id":this.state.likes>=this.state.unlikes?"card_id likes":"card_id unlikes",children:this.props.data.pentaid}),Object(O.jsx)("div",{className:"card_views",children:this.state.views}),Object(O.jsx)("div",{className:"card_img",onClick:this.cardClick,children:Object(O.jsx)("a",{href:this.props.data.url,target:"_blank",rel:"noopener noreferrer",children:Object(O.jsx)("img",{src:this.props.data.imgurl,alt:"\u56fe\u7247\u8def\u5f84",width:"290px",height:"200px"})})}),Object(O.jsx)("div",{className:"card_title Singlelineellipsis",children:this.props.data.title}),Object(O.jsxs)("div",{className:"card_aurthorandtime ",children:[Object(O.jsx)("div",{className:"card_aurthorandtime_author Singlelineellipsis",children:this.props.data.author}),Object(O.jsx)("div",{className:"card_aurthorandtime_time Singlelineellipsis",children:this.state.time})]}),Object(O.jsxs)("div",{className:"card_bottom",children:[Object(O.jsxs)("button",{className:"card_bottom_item",onClick:this.likeClick,children:[Object(O.jsx)("img",{src:D,width:"20px",height:"20px",alt:"\u559c\u6b22"}),"    \u559c\u6b22",this.state.likes||0]}),Object(O.jsxs)("button",{className:"card_bottom_item",onClick:this.unlikeClick,children:[Object(O.jsx)("img",{src:P,width:"20px",height:"20px",alt:"\u4e0d\u559c\u6b22"})," \u4e0d\u559c\u6b22",this.state.unlikes||0]}),Object(O.jsxs)("button",{className:"card_bottom_item",onClick:this.cardClick,children:[Object(O.jsx)("img",{src:I,width:"20px",height:"20px",alt:"\u6d4f\u89c8\u91cf"})," \u6d4f\u89c8\u91cf",this.state.views||0]})]})]})})})}}]),s}(i.a.Component)),Y=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).getdata=function(e){u.a.get("/api/douyupenta/".concat(e)).then((function(e){console.log("ressss",e),n.setState({list:e.data.result}),console.log(n.state)}))},n.scrollHandle=function(e){var t=e.srcElement.scrollingElement.scrollTop;console.log(t);var s=Math.floor(t/600);console.log(s),s>+n.state.updateLength&&(n.setState({updateLength:s}),console.log("\u6570\u636e\u662f\u5426\u4f1a\u66f4\u65b0"),n.getdata(s))},n.state={list:[],updateLength:null},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/douyupenta/1").then((function(t){console.log("ressss",t),e.setState({list:t.data.result}),console.log(e.state)})),window.addEventListener("scroll",F(this.scrollHandle,200))}},{key:"render",value:function(){var e;return e=this.state.list.map((function(e,t){return e.url="https://v.douyu.com/show/"+e.url,Object(O.jsx)(J,{data:e},e.pentaid)})),Object(O.jsx)("div",{className:"Center_panel",children:e})}}]),s}(i.a.Component),z=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).props=e,n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){console.log("homepage.props",this.props)}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"fix_bg"}),Object(O.jsx)("div",{className:Q.a.home_container,children:Object(O.jsxs)("div",{className:Q.a.home_content,children:[Object(O.jsx)(B,{props:this.props}),Object(O.jsx)(Y,{})]})})]})}}]),s}(i.a.Component),K=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_,{}),Object(O.jsx)(z,{props:e,type:"douyu"})]})},U=s(75),X=s(125),$=["component"],ee=function(e){var t=e.component,s=Object(X.a)(e,$);return console.log("\u767b\u9646\u72b6\u6001\u9a8c\u8bc1",b.isAnthenticated()),Object(O.jsx)(G.b,Object(U.a)(Object(U.a)({},s),{},{render:function(e){return b.isAnthenticated()?Object(O.jsx)(t,Object(U.a)({},e)):Object(O.jsx)(G.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var te=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"app",children:Object(O.jsxs)(v.a,{children:[Object(O.jsx)(ee,{exact:!0,path:"/hylist",component:V}),Object(O.jsx)(ee,{exact:!0,path:"/dylist",component:K}),Object(O.jsx)(ee,{exact:!0,path:"/",component:V}),Object(O.jsx)(G.b,{exact:!0,path:"/login",component:f}),Object(O.jsx)(G.b,{exact:!0,path:"/register",component:f})]})})})};c.a.render(Object(O.jsx)(te,{}),document.getElementById("root"))},73:function(e,t,s){e.exports={elevator:"kuSWEiZ4rgUHSC_Einr6Z",elevator_items:"_18avZrMlG4rL_5uI41-6mO",elevator_items_select:"_2QFI2_iR3i_vWhMdjNVbrV"}},74:function(e,t,s){e.exports={elevator:"_1BnaOV2uhZAsi5COs_LsBM",elevator_items:"GCHZ9nGI4JNRUB-ORCXPF",elevator_items_select:"_2FMLA0AGi9QR1YJ0Rzi6Qe"}},87:function(e,t,s){e.exports={home_container:"_1z1oKPMbxIYqG1t--LyP9P",home_content:"_2vyVILDmkt9GWjuC45VqRQ"}},88:function(e,t,s){e.exports={home_container:"_3LAYLFs_K7qHWMRhPaxoX",home_content:"ij6N4cv4-VQWiuFeKknol"}}},[[243,1,2]]]);
//# sourceMappingURL=main.472aba82.chunk.js.map